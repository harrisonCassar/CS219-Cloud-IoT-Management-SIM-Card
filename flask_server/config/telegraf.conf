# Telegraf Configuration
[global_tags]

[agent]
  interval = "500ms"
#   round_interval = true
#   metric_batch_size = 5000
#   metric_buffer_limit = 10000
#   collection_jitter = "0s"
  flush_interval = "500ms"
#   flush_jitter = "0s"
#   precision = "1ms"
#   hostname = ""
#   omit_hostname = true


# Output Plugins

[[outputs.websocket]]
  url = "ws://grafana:3000/api/live/push/cs"
  data_format = "influx"
#   flush_interval = "100ms"
  [outputs.websocket.headers]
    Authorization = "Bearer glsa_IJLHc1kgE6IabDF1QPYape11D7K4VlfD_274b4f56" #glsa_Yi0j5URnXxUU86N5R7ifJ1elXWHw7s7M_85eefd8c

# [[outputs.http]]
#   url = "http://grafana:3000/api/live/push/cs"
#   data_format = "influx"
#   [outputs.http.headers]
#     Authorization = "Bearer glsa_Yi0j5URnXxUU86N5R7ifJ1elXWHw7s7M_85eefd8c"

# Input Plugins

[[inputs.socket_listener]]
  service_address = "udp://localhost:8002"
  data_format = "influx"
  content_encoding = "identity"